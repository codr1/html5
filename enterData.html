<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>WebFit</title>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="manifest" href="site.webmanifest">
    <link rel="apple-touch-icon" href="icon.png">
    <!-- Place favicon.ico in the root directory -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="node_modules/bootstrap-social/bootstrap-social.css" >
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.css" >
    <link href="//netdna.bootstrapcdn.com/bootswatch/3.1.0/superhero/bootstrap.min.css" rel="stylesheet">

    <style>
        .centered-form .panel{
            background: rgba(255, 255, 255, 0.8);
            box-shadow: rgba(0, 0, 0, 0.3) 20px 20px 20px;
            padding: 2px;
        }

        .centered-form{
            margin-top: 60px;
        }


        body{
            background: url("img/turquoise-girl.jpg") no-repeat center fixed;
            background-size: cover;
        }


        .centered-form .panel{
            background: rgba(255, 255, 255, 0.8);
            box-shadow: rgba(0, 0, 0, 0.3) 20px 20px 20px;
        }

        .centered-form{
            margin-top: 60px;
        }
    </style>

</head>
<body>
<!-- Load the facebook API! -->
<script>
    function statusChangeCallback( response ){
        if( response ) {
            //alert( response );
        } else {
            //alert( 'GTFO!' );
        }
    }


    window.fbAsyncInit = function() {
        FB.init({
            appId            : '833613743472776',
            autoLogAppEvents : true,
            status           : true,
            xfbml            : true,
            version          : 'v2.10'
        });
        FB.AppEvents.logPageView();

        /*
        FB.getLoginStatus( function( response ){
            statusChangeCallback( response );
        });
        */

        FB.Event.subscribe('auth.statusChange', function(response) {
            // do something with response
            //alert( JSON.stringify( response ) );
        });
    };

    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));


</script>


<script>

    function doFBLogin( ){
        FB.login( function( response ){
            if( response.status === 'connected' ) {
                window.location.href = "enterData.html";
            } else {
                window.location.href = "enterData.html";
                alert( "not again" );
            }
        }, { scope: 'public_profile,email' } );
    }

</script>


<script>


    FB.getLoginStatus(function(response) {
        statusChangeCallback(response);
    });
</script>

<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
<![endif]-->

<!-- Add your site or application content here -->
<p>We need your deets!</p>
<script src="js/vendor/modernizr-3.5.0.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-XXXXX-Y','auto');ga('send','pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>

<div class="container" style="height: 100vh">
    <div class="row centered-form">
        <div class="col-xs-12 col-md-6 col-sm-offset-2 col-md-offset-3">
            <div class="panel panel-default">
                <div class="panel-heading" style="background-color: rgba(0,0,0,0.25)">
                    <h3 class="panel-title"><strong>We need your details</strong></h3>
                </div>

                <div class="panel-body" style="background-color: rgba( 1,1,1,0.15)">

                    <form role="form" method="GET" action="align.html">

                        <div class="row">
                            <div class="form-group center-block">
                                <div class="btn-group" data-toggle="buttons" >
                                    <label class="btn btn-info active">
                                        <input type="radio" name="gender" id="imperial" autocomplete="off" checked> in / lb
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="gender" id="metric" autocomplete="off"> cm  / kg
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group center-block">
                                <div class="btn-group" data-toggle="buttons" >
                                    <label class="btn btn-info active">
                                        <input type="radio" name="system" id="male" autocomplete="off"> Male
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="system" id="female" autocomplete="off" checked> Female
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="row" >
                            <div class="form-group col">
                                <input type="number" name="age" class="form-control input-sm" min="13" max="130" title="Age" placeholder="Age" required>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col">
                                <input type="number" name="weight" class="form-control input-sm" min="50" max="500" title="Weight in lbs" placeholder="Weight in lbs" required>
                            </div>
                        </div>

                        <div class="row hidden" id="cmRow">
                            <div class="form-group col">
                                <input type="number" name="heightCm" class="form-control input-sm" min="100" max="250" step="1" title="Height in cm" placeholder="Height cm" >
                            </div>
                        </div>

                        <div class="row" id="inRow">
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group">
                                    <input type="number" name="heightFt" class="form-control input-sm" min="3" max="8" step="1" placeholder="Height Feet" required>
                                </div>
                            </div>
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <div class="form-group">
                                    <input type="number" name="heightIn" class="form-control input-sm" min="0" max="11" step="1" placeholder="Height Inches" required>
                                </div>
                            </div>
                        </div>

                        <input type="submit" value="I am getting PUMPED!" class="btn btn-info btn-block">

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


</body>
</html>


<script>

    // Handle metric system change
    $("input[name=gender]").change(function () {
        if( this.id === 'metric' ){
            $("div[id=cmRow]").removeClass( 'hidden' );
            $("div[id=inRow]").addClass( 'hidden' );

            $("input[name=heightCm]").prop( 'required', true );
            $("input[name=heightIn]").prop( 'required', false );
            $("input[name=heightFt]").prop( 'required', false );


            $weightInput = $( "input[name=weight]" );
            $weightInput.attr( "placeholder", "Weight in kgs" );
            $weightInput.attr( "title", "Weight in kgs" );
            $weightInput.attr( "min", 30 );
            $weightInput.attr( "max", 300 );


            if( $weightInput.val() !== "" ) {
                $weightInput.val( Math.round ( $weightInput.val() * 0.453592 ) );
            }

        } else {
            $("div[id=inRow]").removeClass('hidden');
            $("div[id=cmRow]").addClass('hidden');

            $("input[name=heightCm]").prop( 'required', false );
            $("input[name=heightIn]").prop( 'required', true );
            $("input[name=heightFt]").prop( 'required', true );

            $weightInput = $("input[name=weight]");
            $weightInput.attr( "placeholder", "Weight in lbs" );
            $weightInput.attr( "title", "Weight in lbs" );
            $weightInput.attr( "min", 50 );
            $weightInput.attr( "max", 500 );


            $weightInput.attr( 'placeholder', "Weight in lbs" );

            if( $weightInput.val() !== "" ) {
                $weightInput.val( Math.round ( $weightInput.val() * 2.20462  ) );
            }
        }

    });

</script>
